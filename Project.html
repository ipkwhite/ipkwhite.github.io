<!DOCTYPE html>

<!---Data Science 2022-Imran Khan-White -->

<html lang="en">




<!-- //////////////  Head ///////////// -->

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- Title for the page -->
    <title>Document</title>

    <!-- Link to my style sheet -->
    <link rel="stylesheet" href="Project.css">

    <!--The next three lines allow the Vega embed-->
    <script src="https://cdn.jsdelivr.net/npm/vega@5.17.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.17.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.12.2"></script>
</head>

 <!-- Code to allow links to my Home Page and Portfolio -->

<div class="wrap">    


    <a href="Portfolio.html" id="link3">Portfolio</a>
    <a href="index.html" id="link3">Home Page</a>


   

</div>


<body>

    <!-- A div that contains a group of items for project. Can be useful for setting background colours etc.  -->

    <div class="project">
        <h1>Project</h1>
        <h3><u>Growing Pains</u></h3>

        <p>Economic prosperity and ensuing medical advancements have brought with it desirable improvements in life quality but has caused the unprecedented ageing of populations as nations develop. This project aims to unveil both the causes and economic ramifications of this precarious situation.
  
 </p>

     <h3>Truths</h3>
<p>The extent of the problem can be seen in Japan, where in 1960 the most populous age group was 10-14 years, whereas in 2020 it was 45-49 years. I also displayed the projected ageing of the UK population up to 2040 using a Trellis chart. The UK isn’t projected to age significantly by 2040, and this illustrates a later point; nations age most severely as they develop because birth rates decline, and life expectancies increase at fast rates.  </p>
<!--Chart with slider for years 1960, 1990 and 2020 showing the age-related shift in Japanese demographics-->
<p><a href="https://colab.research.google.com/drive/12pwSziySSVoE0Hbr6l8kuys9c5NGqCKQ?usp=sharing%20class%3D" class="linkcolab" id="link4"target="_blank">Colab</a></p>

<div class="chart" id="Chart1"></div>

 <!--Trellis chart showing the projected change in age demographics of the UK from 2020-2040 -->


        <p><a href="https://colab.research.google.com/drive/13ZiTDnBWzZ-AjSL1xPCbylGY91zc01l3?usp=sharing-" class="linkcolab" id="link4"target="_blank">Colab</a></p>

        <div class="chart" id="Chart2"></div>
        <p>For both charts, the bar and legend for the age range ‘100+’ was appearing after ’10-15’ initially and was solved by sorting by "". I had to transpose data for the Trellis chart but was unable to get it into a usable format through python, so I transposed and calculated population percentages in excel. </p>
      
        <!--World maps showing the change in Life expectancy and Fertility rates from 1960 to 2020, with GDP p/capita also displayed in the tooltip-->
       <h3>How and why? </h3>
        <p>For these maps, I utilised a topojson file for the world hosted on GitHub. They show the two principal causes of ageing populations; increases in life expectancies and corresponding reductions in birth rates.</p>
        <p><a href="https://colab.research.google.com/drive/1DQYHW4YlORysq8Hp6tj-7ywD7lrNoD5j?usp=sharing" class="linkcolab" id="link4"target="_blank">Colab</a></p>
        <div class="chart34" id="Chart3"></div>
      
    
   
       
      <p><a href="https://colab.research.google.com/drive/13RTePLZAYjXchRp60ZTEXtUXP61d2W0_?usp=sharing" class="linkcolab" id="link4"target="_blank">Colab</a></p>



       <div class="chart34" id="Chart4"></div>
       <p>
   
  
      <p>GDP p/capita is displayed in the tooltip because this is the underlying cause of the changes. As nations become wealthier and career prospects improve, the trade-off between having children and earning higher salaries increases so birth rates fall, and life expectancy increases as healthcare quality improves. </p>
<p>Post-mapping there were some countries missing initially, like Russia, so I renamed them in python to match names listed in the topojson file. Some nations remain missing, namely some less developed nations, that WorldBank didn’t have data for.</p>
        
<!--Chart showing change in dependancy ratios over time for the wolrd and numerous countries as well as groups of countries within different wealth groups-->

       <h3>Dependency ratios</h3>
        <p></p>
        <p><a href="https://colab.research.google.com/drive/1nGzGDn7SijKsCKeGegwweWuII4UvtLC9?usp=sharing" class="linkcolab" id="link4" target="_blank">Colab</a></p>
        <div class="chart" id="Chart5"></div>
        
        <p>Dependency ratios are the ratio of individuals not of working age to those who are and fell over the period for less wealthy nations as birth rates in low-and-middle-income countries declined faster than life expectancy increased. China, for example, saw a 71.22% decline in birth rates and a 57.38% increase in life expectancy. China was at 1.281 births per-woman in 2020, and is unlikely to fall much more, displaying the reason wealthier nations saw increases in dependency ratio’s; life expectancy can still grow, whereas fertility rates are at their lower bound. Therefore, as nations develop dependency ratios will rise globally.  </p>
    <p>I cleaned the data using python, but calculated dependency ratios in excel as I couldn’t find a way to code it effectively. Only after doing so did I realise UN had data on dependency ratios too. </p>

    <!--Chart showing a regression of healthcare expenditure p/capita on share of the global population over 65 years old, utilising data from many countries-->

    <h3>Costs</h3>

    <p><a href="https://colab.research.google.com/drive/19y4o_tNkcbsnmUzqn6sVjspDfdWV9OKr?usp=sharing" class="linkcolab" id="link4"target="_blank">Colab</a></p>

    <div class="chart" id="Chart6"></div>

      
       

<p>The R² value in this regression means that 40% of the variation in health care expenditure p/capita can be explained by the share of the population of 65 years and over. Therefore, as populations age, health care expenditure will rise, and when working populations fall due to low birth-rates and dependency ratios rise, the pool of workers to collect taxes from for funding will decrease.</p>

           <!--Chart showing a regression of Pension spending p/capita on life expectancy using data from US states-->

<p><a href="https://colab.research.google.com/drive/1SHIre2Q-iPnZ_SBfLCBROCahLSdUmHwP?usp=sharing" class="linkcolab" id="link4"target="_blank">Colab</a>
         <div class="chart" id="Chart7"></div>
        
     
       
        </p>
    

<p>Given increasing life expectancy is a primary cause of ageing populations, I expected a higher value than the calculated R² of 0.09 which is a very weak correlation. Democrat-aligned states provide more funding for pensions than republican states, and party-alignment discrepancies likely dilutes the impact of life expectancy here¹.</p>
 <p>After some states and life expectancy values in the table post-cleaning, there were numbers in square brackets, and I could only remove the numbers not the brackets, so I had to download the semi-cleaned table to finish in excel. Life expectancies were always between 74 and 83, so initially all the points were in a small area. I fixed this by both adding a zoom function and setting the domain between 74 and 83.
  </p>
<p>I scraped life-expectancies from wikipedia and utilised supervised learning for this regression but charted in Vega-lite to permit interactivity. I tried scraping pension spending data from ‘federal reserve’, but got a ‘HTML restricted’ error, so I found a csv file source.</p></p>
   <!--Data section-->
  <h3>Data</h3>
    <p>I cleaned and merged all datasets in python, though occasionally utilised excel for issues I couldn’t solve by coding.  When data was missing, I used ‘df.dropna()’ and when I needed to drop more columns than I was keeping I used ‘df=df[[‘’]]’.
    </p>

   <!--Conclusion-->

<h3>Conclusion</h3>

<p>In conclusion, birth rates will eventually stagnate globally, whilst life expectancies have  room to increase and within the next century we will see rapid ageing globally. Dependency ratios will rise, creating issues with tax collection from a shrinking working population and thus public funding for the ever-increasing need for age-related expenditure. It is likely that this problem could derail the growth of some developing nations, as these consequences unfold.</p>

    </div> 





    <p></p>
    
    </div>
    
    <p></p>

       <!--Sources section with links to sources used in charts, in order of appearance-->

      <div class="project">
        <h1>Sources</h1>
        <h3>Data:(Chart number)</h3>
        <p><a href="https://population.un.org/wpp/Download/Standard/Population/" class="linksource" id="linksource1"target="_blank">
        (1)United Nations</a><a href="https://www.ons.gov.uk/peoplepopulationandcommunity/populationandmigration/populationprojections/datasets/tablea21principalprojectionukpopulationinagegroups" class="linksource" id="linksource2"target="_blank">
       (2)ONS</a>
    
    
       
        <a href="https://data.worldbank.org/indicator/SP.DYN.LE00.IN" class="linksource" id="linksource3"target="_blank">(3)WorldBank</a>
        <a href="https://data.worldbank.org/indicator/NY.GDP.PCAP.CD" class="linksource" id="linksource3"target="_blank">(3)WorldBank</a>
        
        <a href="https://data.worldbank.org/indicator/SP.DYN.TFRT.IN" class="linksource" id="linksource4"target="_blank">(4)WorldBank</a>
        <a href="https://data.worldbank.org/indicator/NY.GDP.PCAP.CD" class="linksource" id="linksource4"target="_blank">(4)WorldBank</a></p>

        <p><a href="https://population.un.org/wpp/Download/Standard/Population/" class="linksource" id="linksource5"target="_blank">(5)United Nations</a> 
        <a href="https://data.worldbank.org/indicator/SH.XPD.CHEX.GD.ZS" class="linksource" id="linksource6"target="_blank">(6)WorldBank</a>
        <a href="https://data.worldbank.org/indicator/SP.POP.65UP.TO.ZS" class="linksource" id="linksource6"target="_blank">(6)WorldBank</a>
        <a href="https://en.wikipedia.org/wiki/List_of_U.S._states_and_territories_by_life_expectancy" class="linksource" id="linksource7"target="_blank">(7)Wikipedia
        <a href="https://www.usgovernmentspending.com/compare_state_spending_2019m00a" class="linksource" id="linksource7"target="_blank">(7)www.usgovernmentspending.com</a>
      </p>

   <!--Sources used in-text reference(s)-->

      <h3>Footnotes; </h3>
      <p><a href="https://www.the-american-interest.com/2016/12/16/blue-states-have-bigger-pension-debts-than-red-states/" class="linksource" id="linksource1"target="_blank">(1)the-american-interest.com</a>



    </div>
  

    


    


</div> 



  

  
  


</body>


<script>
    //Define charts:

    var myChart1 = "p_chart2_PP_JAP.json";
    var myChart2= "chart22_AgePopUK.json";
    var myChart3 = "pchart5_MAP_LE_GDP.json";
    var myChart4 = "pchart4_MAP_FR_GDP.json";
    var myChart5 = "p_chart1_depratio.json";
    var myChart6 = "chart21_HCE_65_reg.json";
    var myChart7 = "p_chart3-USLEPS.json"



    // Embed charts:
    vegaEmbed('#Chart1', myChart1);
    vegaEmbed('#Chart2', myChart2);
    vegaEmbed('#Chart3', myChart3);
    vegaEmbed('#Chart4', myChart4);
    vegaEmbed('#Chart5', myChart5);
    vegaEmbed('#Chart6', myChart6);
    vegaEmbed('#Chart7', myChart7);
   
</script>



</html>





  